{
  "patch_id": "round22_patch",
  "previous_patch_id": "round21_patch",
  "round": 22,
  "date": "2026-01-14",
  "project": "Nethack-Roguelike",
  "summary": [
    "Annex micro-dungeons gain a third generator style: MiniRuins (packed rooms + corridors via an MST + extra loops) for classic mini-complex side areas.",
    "MiniRuins stamps internal door markers into real DoorClosed/DoorOpen tiles (with some broken-open variety) while keeping the annex pocket border solid.",
    "Annex loot placement avoids selecting internal-door tiles as the farthest-cache anchor, so chests don't spawn on door tiles.",
    "Build fixes: spawnItems no longer references an out-of-scope room type variable; Blink affix FX now uses tile visibility directly (fixes non-MSVC builds)."
  ],
  "files_in_patch_zip": [
    "CHANGELOG.md",
    "PATCH_MANIFEST.json",
    "src/ai.cpp",
    "src/dungeon.cpp",
    "src/dungeon.hpp",
    "src/game.cpp",
    "src/combat.cpp",
    "src/game.hpp",
    "src/game_automove.cpp",
    "src/game_internal.hpp",
    "src/game_look.cpp",
    "src/game_loop.cpp",
    "src/game_save.cpp",
    "src/game_targeting.cpp",
    "src/keybinds.cpp",
    "src/main.cpp",
    "src/render.hpp",
    "src/render.cpp",
    "src/settings.cpp",
    "src/settings.hpp",
    "src/spritegen.hpp",
    "src/spritegen.cpp",
    "src/game_spawn.cpp"
  ]
}
