{
  "patch_id": "round120_patch",
  "previous_patch_id": "round119_patch",
  "round": 120,
  "date": "2026-01-22",
  "project": "Nethack-Roguelike",
  "summary": [
    "Introduced a deterministic procedural biolum terrain field (lichen/crystal glow) computed via Gray-Scott reaction-diffusion and cached per floor.",
    "Integrated biolum tiles into darkness-mode lighting as a small set of spaced, colored light sources (green lichen, cyan/purple crystals) to create subtle navigation landmarks.",
    "Added ambient biolum mote particles and extended #mapstats with BIOLUM counts for quick tuning / debugging.",
    "Refactored the Gray-Scott solver into reusable header src/proc_rd.hpp and reused it for chemical hazards to keep numerics consistent across systems."
  ],
  "files_in_patch_zip": [
    "CHANGELOG.md",
    "PATCH_MANIFEST.json",
    "docs/PROCGEN_COLOR_PALETTE.md",
    "docs/PROCGEN_TERRAIN_FLUVIAL.md",
    "docs/PROCGEN_TILE_BORDERS.md",
    "docs/PROCGEN_VAULT_WFC.md",
    "src/ai.cpp",
    "src/bounty_gen.hpp",
    "src/combat.cpp",
    "src/crafting_gen.hpp",
    "src/dungeon.cpp",
    "src/dungeon.hpp",
    "src/farm_gen.hpp",
    "src/fishing_gen.hpp",
    "src/game.cpp",
    "src/game.hpp",
    "src/game_interact.cpp",
    "src/game_internal.hpp",
    "src/game_inventory.cpp",
    "src/game_look.cpp",
    "src/game_loop.cpp",
    "src/game_save.cpp",
    "src/game_spawn.cpp",
    "src/game_targeting.cpp",
    "src/items.cpp",
    "src/items.hpp",
    "src/main.cpp",
    "src/pet_gen.hpp",
    "src/render.cpp",
    "src/render.hpp",
    "src/settings.cpp",
    "src/settings.hpp",
    "src/spritegen.cpp",
    "src/spritegen.hpp",
    "docs/PROCGEN_TERRAIN_BIOLUM.md",
    "src/proc_rd.hpp",
    "src/game_world.cpp"
  ],
  "files_changed_this_round": [
    "CHANGELOG.md",
    "PATCH_MANIFEST.json",
    "docs/PROCGEN_TERRAIN_BIOLUM.md",
    "src/proc_rd.hpp",
    "src/dungeon.hpp",
    "src/dungeon.cpp",
    "src/game_world.cpp",
    "src/game_spawn.cpp",
    "src/game_internal.hpp",
    "src/render.cpp"
  ],
  "files_added": [
    "docs/PROCGEN_TERRAIN_BIOLUM.md",
    "src/proc_rd.hpp"
  ],
  "notes": [
    "The biolum field is cosmetic and deterministic: it is computed once per floor (cached alongside terrain materials) and is not serialized.",
    "Biolum lights are injected only when darkness mode is active, and are selected with a greedy spacing rule to avoid performance spikes from too many sources.",
    "Strong biolum tiles (>=48 intensity) emit occasional motes to make glow pockets more readable.",
    "The Gray-Scott solver is now shared (src/proc_rd.hpp) so future procedural fields can reuse the same implementation."
  ],
  "generated_at": "2026-01-22T00:00:00Z"
}
